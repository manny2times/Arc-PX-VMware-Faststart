2022/02/16 20:24:37 MICROSOFT SOFTWARE LICENSE TERMS
MICROSOFT Azure Arc Enabled Data Services
This software is licensed to you as part of your or your company's subscription
license for Microsoft Azure Services. You may only use the software with
Microsoft Azure Services and subject to the terms and conditions of the
agreement under which you obtained Microsoft Azure Services. If you do not have
an active subscription license for Microsoft Azure Services, you may not use the
software.  Microsoft Azure Legal Information:
https://azure.microsoft.com/en-us/support/legal/


2022-02-16 20:24:37.7736 | INFO  | Starting Controller Service. 
2022-02-16 20:24:37.8205 | INFO  | Loading 'ControlPlane' plugin... 
2022-02-16 20:24:37.8205 | INFO  | Loading 'Active Directory Connector' plugin... 
2022-02-16 20:24:37.8205 | INFO  | Loading 'PostgreSQL' plugin... 
2022-02-16 20:24:37.8205 | INFO  | Loading 'SQL Managed Instance' plugin... 
2022-02-16 20:24:37.8205 | INFO  | Loading 'Monitor' plugin... 
2022-02-16 20:24:37.8205 | INFO  | Loading 'Export' plugin... 
2022-02-16 20:24:38.5866 | INFO  | Creating Controller DB data encryption key secret... 
2022-02-16 20:24:38.6456 | INFO  | Creating Controller DB read write (admin) secret... 
2022-02-16 20:24:38.6701 | INFO  | Creating controller-system-secret ... 
2022-02-16 20:24:38.7941 | INFO  | Waiting for Controller database to be up... 
2022-02-16 20:24:55.4743 | INFO  | Waiting for Controller database to be up... 
2022-02-16 20:25:12.1421 | INFO  | Waiting for Controller database to be up... 
2022-02-16 20:25:28.7779 | INFO  | Waiting for Controller database to be up... 
2022-02-16 20:25:45.3972 | INFO  | Waiting for Controller database to be up... 
2022-02-16 20:25:53.0109 | INFO  | Waiting for Controller database to be up... 
2022-02-16 20:25:55.0130 | INFO  | Waiting for Controller database to be up... 
2022-02-16 20:25:57.0137 | INFO  | Waiting for Controller database to be up... 
2022-02-16 20:25:57.0588 | INFO  | Controller database is ready. 
2022-02-16 20:25:57.0867 | INFO  | Controller database server version is 15.0.2148.140. 
2022-02-16 20:25:57.0905 | INFO  | Creating system login and disabling sa... 
2022-02-16 20:25:57.1753 | INFO  | Logging in as system 
2022-02-16 20:26:11.2140 | INFO  | system login succeeded. 
2022-02-16 20:26:11.2140 | INFO  | Initializing Health Handler Routine... 
2022-02-16 20:26:11.2140 | INFO  | Initializing connection storage... 
2022-02-16 20:26:11.2140 | INFO  | Connection storage initialized. 
2022-02-16 20:26:11.2140 | INFO  | Health Handler Routine initialized. 
2022-02-16 20:26:11.2635 | INFO  | Login controldb-rw-user created in 'controller' database. 
2022-02-16 20:26:11.2635 | INFO  | Creating 'controller' database... 
2022-02-16 20:26:13.2734 | INFO  | Database 'controller' created. 
2022-02-16 20:26:13.2734 | INFO  | Creating user controldb-rw-user in 'controller' database... 
2022-02-16 20:26:13.3680 | INFO  | User controldb-rw-user in 'controller' database created. 
2022-02-16 20:26:13.3687 | INFO  | Creating symmetric key... 
2022-02-16 20:26:13.4095 | INFO  | Symmetric key ControllerDbSymmetricKey created in 'controller' database. 
2022-02-16 20:26:13.4095 | INFO  | Provisioning schema in 'controller' database... 
2022-02-16 20:26:21.1950 | INFO  | Schema provisioning in 'controller' database completed successfully. 
2022-02-16 20:26:21.1950 | INFO  | Loading state machine tables into 'controller' database... 
2022-02-16 20:26:27.4822 | INFO  | Controller database initialized. 
2022-02-16 20:26:27.4858 | INFO  | Retrieving configuration information from runtime context... 
2022-02-16 20:26:27.4858 | INFO  | Setting FSM specific configuration... 
2022-02-16 20:26:27.4999 | INFO  | Initializing FSM context... 
2022-02-16 20:26:28.2184 | INFO  | Loading settings to database. 
2022-02-16 20:26:28.3225 | INFO  | Kubernetes DNS domain is 'svc.cluster.local'. 
2022-02-16 20:26:28.7013 | INFO  | Adding self-signed certificate into the trusted root store ... 
2022-02-16 20:26:31.5490 | INFO  | Downloading files to controller. 
2022-02-16 20:26:31.7576 | INFO  | Custom resource controller for DataController created 
2022-02-16 20:26:31.7776 | INFO  | Custom resource controller for ActiveDirectoryConnector created 
2022-02-16 20:26:31.7910 | INFO  | [AzureUpload] Connectivity mode is indirect. No upload task should be scheduled. 
2022-02-16 20:26:31.8033 | INFO  | Custom resource controller for PostgreSql created 
2022-02-16 20:26:31.8060 | INFO  | Custom resource controller for SqlManagedInstance created 
2022-02-16 20:26:31.8060 | INFO  | Custom resource controller for SqlManagedInstanceRestoreTask created 
2022-02-16 20:26:31.8060 | INFO  | Custom resource controller for Dag created 
2022-02-16 20:26:31.8084 | INFO  | Custom resource controller for Monitor created 
2022-02-16 20:26:31.8084 | INFO  | Custom resource controller for ExportTask created 
Hosting environment: Production
Content root path: /opt/controller/svc/
Now listening on: https://0.0.0.0:8443
Now listening on: https://0.0.0.0:8444
Application started. Press Ctrl+C to shut down.
2022-02-16 20:26:32.2136 | INFO  | Creating Monitor resource: monitorstack 
2022-02-16 20:26:32.5586 | INFO  | Backing up the resolver config in /var/opt/controller/resolv.conf.kubernetes 
2022-02-16 20:26:32.5586 | INFO  | Skipping the backup of resolver config when it exists /var/opt/controller/resolv.conf.kubernetes 
2022-02-16 20:26:32.5794 | INFO  | Skipping the backup of resolver config when it exists /var/opt/controller/resolv.conf.kubernetes 
2022-02-16 20:26:32.5794 | INFO  | Skipping the backup of resolver config when it exists /var/opt/controller/resolv.conf.kubernetes 
2022-02-16 20:26:32.7772 | INFO  | Skipping the backup of resolver config when it exists /var/opt/controller/resolv.conf.kubernetes 
2022-02-16 20:26:32.7772 | INFO  | Skipping the backup of resolver config when it exists /var/opt/controller/resolv.conf.kubernetes 
2022-02-16 20:26:32.7822 | WARN  | Failed to fire Update event on CustomResourceStateMachine for 'arc/arc-dc' in state 'CreateResources'. New version will be processed in the next update cycle after the current one. 
2022-02-16 20:26:33.1210 | WARN  | Failed to fire Update event on CustomResourceStateMachine for 'arc/monitorstack' in state 'CreateResources'. New version will be processed in the next update cycle after the current one. 
2022-02-16 20:26:43.7764 | INFO  | Provisioning Grafana database for Monitor Custom Resource: monitorstack 
2022-02-16 20:26:43.8795 | INFO  | Login metricsui-db-user created in 'metricsui' database. 
2022-02-16 20:26:43.8795 | INFO  | Creating 'metricsui' database... 
2022-02-16 20:26:45.5963 | INFO  | Database 'metricsui' created. 
2022-02-16 20:26:45.5964 | INFO  | Creating user metricsui-db-user in 'metricsui' database... 
2022-02-16 20:26:45.6932 | INFO  | User metricsui-db-user in 'metricsui' database created. 
2022-02-16 20:26:45.6932 | INFO  | Provisioning schema in 'metricsui' database... 
2022-02-16 20:26:45.7272 | INFO  | Schema provisioning in 'metricsui' database completed successfully. 
2022-02-16 20:26:47.3972 | INFO  | ArcStatefulSetStateMachine : customResourceName monitorstack, spec k8s.Models.V1StatefulSet 
2022-02-16 20:26:47.4803 | INFO  | ArcStatefulSetStateMachine : customResourceName monitorstack, spec k8s.Models.V1StatefulSet 
2022-02-16 20:26:48.2059 | WARN  | ReplicaSet metricsui is not ready with 0 ready pods and 1 unready pods 
2022-02-16 20:26:48.2919 | WARN  | DaemonSet metricsdc is not ready with 0 ready pods and 3 unready pods 
2022-02-16 20:26:48.2947 | WARN  | StatefulSet metricsdb is not ready with 0 ready pods and 1 unready pods 
2022-02-16 20:26:48.3320 | WARN  | StatefulSet logsdb is not ready with 0 ready pods and 1 unready pods 
2022-02-16 20:26:58.2824 | WARN  | ReplicaSet metricsui is not ready with 0 ready pods and 1 unready pods 
2022-02-16 20:26:58.3662 | WARN  | DaemonSet metricsdc is not ready with 0 ready pods and 3 unready pods 
2022-02-16 20:26:58.4135 | WARN  | StatefulSet metricsdb is not ready with 0 ready pods and 1 unready pods 
2022-02-16 20:26:58.4135 | WARN  | StatefulSet logsdb is not ready with 0 ready pods and 1 unready pods 
2022-02-16 20:27:08.3549 | WARN  | ReplicaSet metricsui is not ready with 0 ready pods and 1 unready pods 
2022-02-16 20:27:08.4335 | WARN  | DaemonSet metricsdc is not ready with 0 ready pods and 3 unready pods 
2022-02-16 20:27:08.4791 | WARN  | StatefulSet metricsdb is not ready with 0 ready pods and 1 unready pods 
2022-02-16 20:27:08.4826 | WARN  | StatefulSet logsdb is not ready with 0 ready pods and 1 unready pods 
2022-02-16 20:27:18.4743 | WARN  | ReplicaSet metricsui is not ready with 0 ready pods and 1 unready pods 
2022-02-16 20:27:18.4986 | WARN  | DaemonSet metricsdc is not ready with 0 ready pods and 3 unready pods 
2022-02-16 20:27:18.5201 | WARN  | StatefulSet metricsdb is not ready with 0 ready pods and 1 unready pods 
2022-02-16 20:27:18.5211 | WARN  | StatefulSet logsdb is not ready with 0 ready pods and 1 unready pods 
2022-02-16 20:27:28.5407 | WARN  | ReplicaSet metricsui is not ready with 0 ready pods and 1 unready pods 
2022-02-16 20:27:28.5887 | WARN  | DaemonSet metricsdc is not healthy: {{Pod 'metricsdc-7hd4t' is unhealthy: {Container 'telegraf' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}, {Container 'fluentbit' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}}}, {{Pod 'metricsdc-98j5r' is unhealthy: {Container 'telegraf' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}, {Container 'fluentbit' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}}}, {{Pod 'metricsdc-d78gb' is unhealthy: {Container 'telegraf' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}, {Container 'fluentbit' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}}} 
2022-02-16 20:27:28.6026 | WARN  | StatefulSet logsdb is not ready with 0 ready pods and 1 unready pods 
2022-02-16 20:27:28.6026 | WARN  | StatefulSet metricsdb is not ready with 0 ready pods and 1 unready pods 
2022-02-16 20:27:37.2493 | INFO  | [Request fe2ed954-a3b6-c9f9-ed8f-0d2b15805c7d] Agent join: IP address for pod 'logsdb-0' in namespace 'arc' is not available 
2022-02-16 20:27:37.2493 | ERROR | [Request fe2ed954-a3b6-c9f9-ed8f-0d2b15805c7d] Unable to join cluster 
2022-02-16 20:27:38.6092 | WARN  | ReplicaSet metricsui is not healthy: {{Pod 'metricsui-85nkg' is unhealthy: {Container 'grafana' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}, {Container 'fluentbit' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}}} 
2022-02-16 20:27:38.6644 | WARN  | StatefulSet logsdb is not ready with 0 ready pods and 1 unready pods 
2022-02-16 20:27:38.6694 | WARN  | StatefulSet metricsdb is not healthy: {{Pod 'metricsdb-0' is unhealthy: {Container 'influxdb' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}, {Container 'fluentbit' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}}} 
2022-02-16 20:27:38.6694 | WARN  | DaemonSet metricsdc is not healthy: {{Pod 'metricsdc-7hd4t' is unhealthy: {Container 'telegraf' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}, {Container 'fluentbit' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}}}, {{Pod 'metricsdc-98j5r' is unhealthy: {Container 'telegraf' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}, {Container 'fluentbit' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}}}, {{Pod 'metricsdc-d78gb' is unhealthy: {Container 'telegraf' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}, {Container 'fluentbit' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}}} 
2022-02-16 20:27:39.2811 | INFO  | [Request a30d3348-6431-188e-65a1-a2289865634e] Agent join: IP address for pod 'logsdb-0' in namespace 'arc' is not available 
2022-02-16 20:27:39.2811 | ERROR | [Request a30d3348-6431-188e-65a1-a2289865634e] Unable to join cluster 
2022-02-16 20:27:41.3273 | INFO  | [Request 4f9f1ae1-f075-a22d-ff25-ccefd40a5116] Agent join: IP address for pod 'logsdb-0' in namespace 'arc' is not available 
2022-02-16 20:27:41.3273 | ERROR | [Request 4f9f1ae1-f075-a22d-ff25-ccefd40a5116] Unable to join cluster 
2022-02-16 20:27:43.3645 | INFO  | [Request 21bd62a5-5518-4ef4-9e88-88f466f153fa] Agent join: IP address for pod 'logsdb-0' in namespace 'arc' is not available 
2022-02-16 20:27:43.3645 | ERROR | [Request 21bd62a5-5518-4ef4-9e88-88f466f153fa] Unable to join cluster 
2022-02-16 20:27:48.6870 | WARN  | ReplicaSet metricsui is not healthy: {{Pod 'metricsui-85nkg' is unhealthy: {Container 'grafana' is unhealthy: {Found error properties: {Property: 'grafana.readiness', Details: 'Health module returned error state. error: Head "https://metricsui-svc:3000/api/health": dial tcp 10.233.57.3:3000: connect: connection refused'}}}, {Container 'fluentbit' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}}} 
2022-02-16 20:27:48.7425 | WARN  | StatefulSet logsdb is not ready with 0 ready pods and 1 unready pods 
2022-02-16 20:27:48.7486 | WARN  | StatefulSet metricsdb is not healthy: {{Pod 'metricsdb-0' is unhealthy: {Container 'influxdb' is unhealthy: {Found error properties: {Property: 'influxdb.readiness', Details: 'Health module returned error state. error: Head "https://metricsdb-svc:8086/ping": dial tcp 10.233.37.180:8086: connect: connection refused'}}}, {Container 'fluentbit' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}}} 
2022-02-16 20:27:48.7486 | WARN  | DaemonSet metricsdc is healthy 
2022-02-16 20:27:58.7623 | WARN  | ReplicaSet metricsui is not healthy: {{Pod 'metricsui-85nkg' is unhealthy: {Container 'grafana' is unhealthy: {Found error properties: {Property: 'grafana.readiness', Details: 'Health module returned error state. error: Head "https://metricsui-svc:3000/api/health": dial tcp 10.233.57.3:3000: connect: connection refused'}}}, {Container 'fluentbit' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}}} 
2022-02-16 20:27:58.8065 | WARN  | StatefulSet logsdb is not ready with 0 ready pods and 1 unready pods 
2022-02-16 20:27:58.8133 | WARN  | StatefulSet metricsdb is not healthy: {{Pod 'metricsdb-0' is unhealthy: {Container 'influxdb' is unhealthy: {Found error properties: {Property: 'influxdb.readiness', Details: 'Health module returned error state. error: Head "https://metricsdb-svc:8086/ping": dial tcp 10.233.37.180:8086: connect: connection refused'}}}, {Container 'fluentbit' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}}} 
2022-02-16 20:28:08.8365 | WARN  | ReplicaSet metricsui is not healthy: {{Pod 'metricsui-85nkg' is unhealthy: {Container 'grafana' is unhealthy: {Found error properties: {Property: 'grafana.readiness', Details: 'Health module returned error state. error: Head "https://metricsui-svc:3000/api/health": dial tcp 10.233.57.3:3000: connect: connection refused'}}}, {Container 'fluentbit' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}}} 
2022-02-16 20:28:08.8840 | WARN  | StatefulSet logsdb is not ready with 0 ready pods and 1 unready pods 
2022-02-16 20:28:08.8901 | WARN  | StatefulSet metricsdb is not healthy: {{Pod 'metricsdb-0' is unhealthy: {Container 'influxdb' is unhealthy: {Found error properties: {Property: 'influxdb.readiness', Details: 'Health module returned error state. error: Head "https://metricsdb-svc:8086/ping": dial tcp 10.233.37.180:8086: connect: connection refused'}}}, {Container 'fluentbit' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}}} 
2022-02-16 20:28:18.9131 | WARN  | ReplicaSet metricsui is healthy 
2022-02-16 20:28:18.9717 | WARN  | StatefulSet metricsdb is healthy 
2022-02-16 20:28:18.9724 | WARN  | StatefulSet logsdb is not healthy: {{Pod 'logsdb-0' is unhealthy: {Container 'elasticsearch' is unhealthy: {Found error properties: {Property: 'elasticsearch.readiness', Details: 'Health module returned error state. error: Head "http://127.0.0.1:9200": dial tcp 127.0.0.1:9200: connect: connection refused'}}}, {Container 'fluentbit' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}}} 
2022-02-16 20:28:29.0470 | WARN  | StatefulSet logsdb is not healthy: {{Pod 'logsdb-0' is unhealthy: {Container 'elasticsearch' is unhealthy: {Found error properties: {Property: 'elasticsearch.readiness', Details: 'Health module returned error state. error: Head "http://127.0.0.1:9200": dial tcp 127.0.0.1:9200: connect: connection refused'}}}, {Container 'fluentbit' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}}} 
2022-02-16 20:28:39.1233 | WARN  | StatefulSet logsdb is not healthy: {{Pod 'logsdb-0' is unhealthy: {Container 'elasticsearch' is unhealthy: {Found error properties: {Property: 'elasticsearch.readiness', Details: 'Health module returned error state. error: Head "http://127.0.0.1:9200": dial tcp 127.0.0.1:9200: connect: connection refused'}}}, {Container 'fluentbit' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}}} 
2022-02-16 20:28:49.1937 | WARN  | StatefulSet logsdb is healthy 
2022-02-16 20:28:49.5249 | INFO  | Provisioning InfluxDB. 
2022-02-16 20:28:49.5249 | INFO  | Creating Administrator's user-account for InfluxDB 
2022-02-16 20:28:49.9693 | INFO  | Creating collectd_db database in InfluxDB 
2022-02-16 20:28:50.0016 | INFO  | Creating telegraf database in InfluxDB 
2022-02-16 20:28:50.0319 | INFO  | Creating fluentbit database in InfluxDB 
2022-02-16 20:28:50.0687 | INFO  | Creating telegraf_postgres database in InfluxDB 
2022-02-16 20:28:50.0996 | INFO  | Creating retention policy for InfluxDB collectd_db database 
2022-02-16 20:28:50.1310 | INFO  | Creating retention policy for InfluxDB telegraf database 
2022-02-16 20:28:50.1592 | INFO  | Creating retention policy for InfluxDB fluentbit database 
2022-02-16 20:28:50.1893 | INFO  | Creating retention policy for InfluxDB telegraf_postgres database 
2022-02-16 20:28:50.2207 | INFO  | Creating read-only user on InfluxDB 
2022-02-16 20:28:51.3379 | WARN  | ReplicaSet logsui is not ready with 0 ready pods and 1 unready pods 
2022-02-16 20:29:01.4061 | WARN  | ReplicaSet logsui is not ready with 0 ready pods and 1 unready pods 
2022-02-16 20:29:11.4707 | WARN  | ReplicaSet logsui is not ready with 0 ready pods and 1 unready pods 
2022-02-16 20:29:11.8229 | INFO  | [Request b734353a-5b22-7ccc-5607-32aab31cb251] Agent join: IP address for pod 'logsui-5vnzl' in namespace 'arc' is not available 
2022-02-16 20:29:11.8229 | ERROR | [Request b734353a-5b22-7ccc-5607-32aab31cb251] Unable to join cluster 
2022-02-16 20:29:13.8649 | INFO  | [Request 0aa9615a-4008-ecbf-6712-702ce8a55bbd] Agent join: IP address for pod 'logsui-5vnzl' in namespace 'arc' is not available 
2022-02-16 20:29:13.8649 | ERROR | [Request 0aa9615a-4008-ecbf-6712-702ce8a55bbd] Unable to join cluster 
2022-02-16 20:29:15.9308 | INFO  | [Request d2cac505-b5bb-5780-c9c1-629ebeb4135c] Agent join: IP address for pod 'logsui-5vnzl' in namespace 'arc' is not available 
2022-02-16 20:29:15.9308 | ERROR | [Request d2cac505-b5bb-5780-c9c1-629ebeb4135c] Unable to join cluster 
2022-02-16 20:29:21.5381 | WARN  | ReplicaSet logsui is not ready with 0 ready pods and 1 unready pods 
2022-02-16 20:29:31.6045 | WARN  | ReplicaSet logsui is not ready with 0 ready pods and 1 unready pods 
2022-02-16 20:29:41.6557 | WARN  | ReplicaSet logsui is not healthy: {{Pod 'logsui-5vnzl' is unhealthy: {Container 'kibana' is unhealthy: {Found error properties: {Property: 'kibana.readiness', Details: 'Health module returned error state. error: Service returned unexpected http status (503 Service Unavailable) 'https://logsui-svc:5601/api/status''}}}, {Container 'fluentbit' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}}} 
2022-02-16 20:29:51.7083 | WARN  | ReplicaSet logsui is not healthy: {{Pod 'logsui-5vnzl' is unhealthy: {Container 'kibana' is unhealthy: {Found error properties: {Property: 'kibana.readiness', Details: 'Health module returned error state. error: Service returned unexpected http status (503 Service Unavailable) 'https://logsui-svc:5601/api/status''}}}, {Container 'fluentbit' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}}} 
2022-02-16 20:30:01.7870 | WARN  | ReplicaSet logsui is not healthy: {{Pod 'logsui-5vnzl' is unhealthy: {Container 'kibana' is unhealthy: {Found error properties: {Property: 'kibana.readiness', Details: 'Health module returned error state. error: Service returned unexpected http status (503 Service Unavailable) 'https://logsui-svc:5601/api/status''}}}, {Container 'fluentbit' is unhealthy: {Container properties were not found or expired. Please check the container logs.}}}} 
2022-02-16 20:30:11.8604 | WARN  | ReplicaSet logsui is healthy 
